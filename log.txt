INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 31, in __init__
    dispatcher.connect(self.spider_closed, signals.spider_closed)
TypeError: unbound method connect() must be called with dispatcher instance as first argument (got instancemethod instance instead)
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 31, in __init__
    dispatcher.connect(self.spider_closed, signals.spider_closed)
TypeError: unbound method connect() must be called with dispatcher instance as first argument (got instancemethod instance instead)
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 31, in __init__
    dispatcher.connect(self.spider_closed, signals.spider_closed)
TypeError: unbound method connect() must be called with dispatcher instance as first argument (got instancemethod instance instead)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 68, in set_count
    self.sub_sitemaps_counts[type] = 1
TypeError: unhashable type: 'list'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 68, in set_count
    self.sub_sitemaps_counts[type] = 1
TypeError: unhashable type: 'list'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 68, in set_count
    self.sub_sitemaps_counts[type] = 1
TypeError: unhashable type: 'list'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 68, in set_count
    self.sub_sitemaps_counts[type] = 1
TypeError: unhashable type: 'list'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 68, in set_count
    self.sub_sitemaps_counts[type] = 1
TypeError: unhashable type: 'list'
INFO: Closing spider (finished)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7faf83161ed0>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T15:57:25.693805", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (2): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7faf83161cd0>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T15:57:25.693805", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (3): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.002s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7faf82e52110>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T15:57:25.693805", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (4): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7faf83161ed0>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T15:57:25.693805", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
ERROR: Error caught on signal handler: <bound method ?.spider_closed of <SitemapAnalyzer 'sitemap_analyzer' at 0x7faf82c30f90>>
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 150, in maybeDeferred
    result = f(*args, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/pydispatch/robustapply.py", line 55, in robustApply
    return receiver(*arguments, **named)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 39, in spider_closed
    self.elastic_connection.index(index='sitemap', doc_type='crawl', body=doc)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/utils.py", line 73, in _wrapped
    return func(*args, params=params, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/__init__.py", line 298, in index
    _make_path(index, doc_type, id), params=params, body=body)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/transport.py", line 312, in perform_request
    status, headers, data = connection.perform_request(method, url, params, body, ignore=ignore, timeout=timeout)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 123, in perform_request
    raise ConnectionError('N/A', str(e), e)
ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x7faf83161ed0>: Failed to establish a new connection: [Errno 111] Connection refused) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x7faf83161ed0>: Failed to establish a new connection: [Errno 111] Connection refused)
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 2167,
 'downloader/request_count': 6,
 'downloader/request_method_count/GET': 6,
 'downloader/response_bytes': 12038077,
 'downloader/response_count': 6,
 'downloader/response_status_count/200': 6,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 21, 57, 25, 693635),
 'log_count/DEBUG': 19,
 'log_count/ERROR': 6,
 'log_count/INFO': 7,
 'log_count/WARNING': 4,
 'memusage/max': 917540864,
 'memusage/startup': 917540864,
 'request_depth_max': 1,
 'response_received_count': 6,
 'scheduler/dequeued': 6,
 'scheduler/dequeued/memory': 6,
 'scheduler/enqueued': 6,
 'scheduler/enqueued/memory': 6,
 'spider_exceptions/TypeError': 5,
 'start_time': datetime.datetime(2017, 8, 13, 21, 57, 16, 964630)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 59, in _parse_sitemap
    if self.urls_requested_quantity(loc):
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 80, in urls_requested_quantity
    if self.sub_sitemaps_counts[type] > self.arguments['total_urls']:
KeyError: 'page1'
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Closing spider (shutdown)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 59, in _parse_sitemap
    if self.urls_requested_quantity(loc):
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 80, in urls_requested_quantity
    if self.sub_sitemaps_counts[type] > self.arguments['total_urls']:
KeyError: 'page6'
ERROR: Error caught on signal handler: <bound method ?.spider_closed of <SitemapAnalyzer 'sitemap_analyzer' at 0x7ff2fd42de10>>
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 150, in maybeDeferred
    result = f(*args, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/pydispatch/robustapply.py", line 55, in robustApply
    return receiver(*arguments, **named)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 39, in spider_closed
    self.elastic_connection.index(index='sitemap', doc_type='crawl', body=doc)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/utils.py", line 73, in _wrapped
    return func(*args, params=params, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/__init__.py", line 298, in index
    _make_path(index, doc_type, id), params=params, body=body)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/transport.py", line 278, in perform_request
    body = self.serializer.dumps(body)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/serializer.py", line 50, in dumps
    raise SerializationError(data, e)
SerializationError: ({'date': datetime.datetime(2017, 8, 13, 16, 4, 46, 589443), 'urls_counter': 2, 'sitemap_date_updated': '', 'sub_sitemaps_counts': {<type 'type'>: 1, 'page8': 1, 'page1': 1}, 'sitemap_generated': True}, TypeError('keys must be a string',))
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 949,
 'downloader/request_count': 3,
 'downloader/request_method_count/GET': 3,
 'downloader/response_bytes': 11854660,
 'downloader/response_count': 3,
 'downloader/response_status_count/200': 3,
 'finish_reason': 'shutdown',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 4, 46, 589249),
 'log_count/DEBUG': 4,
 'log_count/ERROR': 3,
 'log_count/INFO': 8,
 'memusage/max': 945934336,
 'memusage/startup': 945934336,
 'request_depth_max': 1,
 'response_received_count': 3,
 'scheduler/dequeued': 3,
 'scheduler/dequeued/memory': 3,
 'scheduler/enqueued': 6,
 'scheduler/enqueued/memory': 6,
 'spider_exceptions/KeyError': 2,
 'start_time': datetime.datetime(2017, 8, 13, 22, 4, 37, 739537)}
INFO: Spider closed (shutdown)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'][0])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'][0])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'][0])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'][0])
AttributeError: 'str' object has no attribute 'url'
ERROR: Spider error processing <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'][0])
AttributeError: 'str' object has no attribute 'url'
INFO: Closing spider (finished)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fb178070650>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:21:15.818920", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (2): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fb1737b6f90>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:21:15.818920", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (3): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fb1737b6f50>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:21:15.818920", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (4): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fb178070650>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:21:15.818920", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
ERROR: Error caught on signal handler: <bound method ?.spider_closed of <SitemapAnalyzer 'sitemap_analyzer' at 0x7fb173db9ed0>>
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 150, in maybeDeferred
    result = f(*args, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/pydispatch/robustapply.py", line 55, in robustApply
    return receiver(*arguments, **named)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 39, in spider_closed
    self.elastic_connection.index(index='sitemap', doc_type='crawl', body=doc)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/utils.py", line 73, in _wrapped
    return func(*args, params=params, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/__init__.py", line 298, in index
    _make_path(index, doc_type, id), params=params, body=body)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/transport.py", line 312, in perform_request
    status, headers, data = connection.perform_request(method, url, params, body, ignore=ignore, timeout=timeout)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 123, in perform_request
    raise ConnectionError('N/A', str(e), e)
ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x7fb178070650>: Failed to establish a new connection: [Errno 111] Connection refused) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x7fb178070650>: Failed to establish a new connection: [Errno 111] Connection refused)
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 2035,
 'downloader/request_count': 6,
 'downloader/request_method_count/GET': 6,
 'downloader/response_bytes': 12037967,
 'downloader/response_count': 6,
 'downloader/response_status_count/200': 6,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 21, 15, 818763),
 'log_count/DEBUG': 19,
 'log_count/ERROR': 6,
 'log_count/INFO': 7,
 'log_count/WARNING': 4,
 'memusage/max': 988745728,
 'memusage/startup': 988745728,
 'request_depth_max': 1,
 'response_received_count': 6,
 'scheduler/dequeued': 6,
 'scheduler/dequeued/memory': 6,
 'scheduler/enqueued': 6,
 'scheduler/enqueued/memory': 6,
 'spider_exceptions/AttributeError': 5,
 'start_time': datetime.datetime(2017, 8, 13, 22, 21, 9, 230514)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'][0])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'][0])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'][0])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'][0])
AttributeError: 'str' object has no attribute 'url'
ERROR: Spider error processing <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'][0])
AttributeError: 'str' object has no attribute 'url'
INFO: Closing spider (finished)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.004s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd2675e4590>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:21:46.168539", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (2): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.002s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd26869a690>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:21:46.168539", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (3): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.002s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd2675e45d0>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:21:46.168539", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (4): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.002s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd26869a690>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:21:46.168539", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
ERROR: Error caught on signal handler: <bound method ?.spider_closed of <SitemapAnalyzer 'sitemap_analyzer' at 0x7fd2691e6e50>>
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 150, in maybeDeferred
    result = f(*args, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/pydispatch/robustapply.py", line 55, in robustApply
    return receiver(*arguments, **named)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 39, in spider_closed
    self.elastic_connection.index(index='sitemap', doc_type='crawl', body=doc)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/utils.py", line 73, in _wrapped
    return func(*args, params=params, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/__init__.py", line 298, in index
    _make_path(index, doc_type, id), params=params, body=body)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/transport.py", line 312, in perform_request
    status, headers, data = connection.perform_request(method, url, params, body, ignore=ignore, timeout=timeout)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 123, in perform_request
    raise ConnectionError('N/A', str(e), e)
ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x7fd26869a690>: Failed to establish a new connection: [Errno 111] Connection refused) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x7fd26869a690>: Failed to establish a new connection: [Errno 111] Connection refused)
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 2035,
 'downloader/request_count': 6,
 'downloader/request_method_count/GET': 6,
 'downloader/response_bytes': 12037967,
 'downloader/response_count': 6,
 'downloader/response_status_count/200': 6,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 21, 46, 167854),
 'log_count/DEBUG': 19,
 'log_count/ERROR': 6,
 'log_count/INFO': 7,
 'log_count/WARNING': 4,
 'memusage/max': 988745728,
 'memusage/startup': 988745728,
 'request_depth_max': 1,
 'response_received_count': 6,
 'scheduler/dequeued': 6,
 'scheduler/dequeued/memory': 6,
 'scheduler/enqueued': 6,
 'scheduler/enqueued/memory': 6,
 'spider_exceptions/AttributeError': 5,
 'start_time': datetime.datetime(2017, 8, 13, 22, 21, 31, 380613)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'][0])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'][0])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'][0])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'][0])
AttributeError: 'str' object has no attribute 'url'
ERROR: Spider error processing <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'][0])
AttributeError: 'str' object has no attribute 'url'
INFO: Closing spider (finished)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.002s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fc406c71e90>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:22:01.044917", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (2): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fc406c717d0>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:22:01.044917", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (3): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fc406c71e90>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:22:01.044917", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (4): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fc406c717d0>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:22:01.044917", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
ERROR: Error caught on signal handler: <bound method ?.spider_closed of <SitemapAnalyzer 'sitemap_analyzer' at 0x7fc407275e50>>
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 150, in maybeDeferred
    result = f(*args, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/pydispatch/robustapply.py", line 55, in robustApply
    return receiver(*arguments, **named)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 39, in spider_closed
    self.elastic_connection.index(index='sitemap', doc_type='crawl', body=doc)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/utils.py", line 73, in _wrapped
    return func(*args, params=params, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/__init__.py", line 298, in index
    _make_path(index, doc_type, id), params=params, body=body)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/transport.py", line 312, in perform_request
    status, headers, data = connection.perform_request(method, url, params, body, ignore=ignore, timeout=timeout)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 123, in perform_request
    raise ConnectionError('N/A', str(e), e)
ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x7fc406c717d0>: Failed to establish a new connection: [Errno 111] Connection refused) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x7fc406c717d0>: Failed to establish a new connection: [Errno 111] Connection refused)
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 2035,
 'downloader/request_count': 6,
 'downloader/request_method_count/GET': 6,
 'downloader/response_bytes': 12037967,
 'downloader/response_count': 6,
 'downloader/response_status_count/200': 6,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 22, 1, 44691),
 'log_count/DEBUG': 19,
 'log_count/ERROR': 6,
 'log_count/INFO': 7,
 'log_count/WARNING': 4,
 'memusage/max': 988745728,
 'memusage/startup': 988745728,
 'request_depth_max': 1,
 'response_received_count': 6,
 'scheduler/dequeued': 6,
 'scheduler/dequeued/memory': 6,
 'scheduler/enqueued': 6,
 'scheduler/enqueued/memory': 6,
 'spider_exceptions/AttributeError': 5,
 'start_time': datetime.datetime(2017, 8, 13, 22, 21, 52, 1846)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'])
AttributeError: 'str' object has no attribute 'url'
ERROR: Spider error processing <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['allowed_domains'])
AttributeError: 'str' object has no attribute 'url'
INFO: Closing spider (finished)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f9c041af9d0>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:26:07.297202", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (2): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f9c041af6d0>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:26:07.297202", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (3): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f9c041af5d0>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:26:07.297202", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (4): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f9c041af9d0>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:26:07.297202", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
ERROR: Error caught on signal handler: <bound method ?.spider_closed of <SitemapAnalyzer 'sitemap_analyzer' at 0x7f9c04926e50>>
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 150, in maybeDeferred
    result = f(*args, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/pydispatch/robustapply.py", line 55, in robustApply
    return receiver(*arguments, **named)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 39, in spider_closed
    self.elastic_connection.index(index='sitemap', doc_type='crawl', body=doc)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/utils.py", line 73, in _wrapped
    return func(*args, params=params, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/__init__.py", line 298, in index
    _make_path(index, doc_type, id), params=params, body=body)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/transport.py", line 312, in perform_request
    status, headers, data = connection.perform_request(method, url, params, body, ignore=ignore, timeout=timeout)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 123, in perform_request
    raise ConnectionError('N/A', str(e), e)
ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x7f9c041af9d0>: Failed to establish a new connection: [Errno 111] Connection refused) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x7f9c041af9d0>: Failed to establish a new connection: [Errno 111] Connection refused)
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 2035,
 'downloader/request_count': 6,
 'downloader/request_method_count/GET': 6,
 'downloader/response_bytes': 12037967,
 'downloader/response_count': 6,
 'downloader/response_status_count/200': 6,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 26, 7, 296989),
 'log_count/DEBUG': 19,
 'log_count/ERROR': 6,
 'log_count/INFO': 7,
 'log_count/WARNING': 4,
 'memusage/max': 991318016,
 'memusage/startup': 991318016,
 'request_depth_max': 1,
 'response_received_count': 6,
 'scheduler/dequeued': 6,
 'scheduler/dequeued/memory': 6,
 'scheduler/enqueued': 6,
 'scheduler/enqueued/memory': 6,
 'spider_exceptions/AttributeError': 5,
 'start_time': datetime.datetime(2017, 8, 13, 22, 25, 59, 921359)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
AttributeError: 'str' object has no attribute 'url'
INFO: Closing spider (finished)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.005s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f91ab833810>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:27:04.527864", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (2): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.004s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f91ab833710>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:27:04.527864", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (3): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.003s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f91ab833a50>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:27:04.527864", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (4): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.002s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f91ab833810>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:27:04.527864", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
ERROR: Error caught on signal handler: <bound method ?.spider_closed of <SitemapAnalyzer 'sitemap_analyzer' at 0x7f91b02aae90>>
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 150, in maybeDeferred
    result = f(*args, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/pydispatch/robustapply.py", line 55, in robustApply
    return receiver(*arguments, **named)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 39, in spider_closed
    self.elastic_connection.index(index='sitemap', doc_type='crawl', body=doc)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/utils.py", line 73, in _wrapped
    return func(*args, params=params, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/__init__.py", line 298, in index
    _make_path(index, doc_type, id), params=params, body=body)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/transport.py", line 312, in perform_request
    status, headers, data = connection.perform_request(method, url, params, body, ignore=ignore, timeout=timeout)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 123, in perform_request
    raise ConnectionError('N/A', str(e), e)
ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x7f91ab833810>: Failed to establish a new connection: [Errno 111] Connection refused) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x7f91ab833810>: Failed to establish a new connection: [Errno 111] Connection refused)
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 2035,
 'downloader/request_count': 6,
 'downloader/request_method_count/GET': 6,
 'downloader/response_bytes': 12037942,
 'downloader/response_count': 6,
 'downloader/response_status_count/200': 6,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 27, 4, 526938),
 'log_count/DEBUG': 19,
 'log_count/ERROR': 6,
 'log_count/INFO': 7,
 'log_count/WARNING': 4,
 'memusage/max': 991318016,
 'memusage/startup': 991318016,
 'request_depth_max': 1,
 'response_received_count': 6,
 'scheduler/dequeued': 6,
 'scheduler/dequeued/memory': 6,
 'scheduler/enqueued': 6,
 'scheduler/enqueued/memory': 6,
 'spider_exceptions/AttributeError': 5,
 'start_time': datetime.datetime(2017, 8, 13, 22, 26, 49, 746173)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
AttributeError: 'str' object has no attribute 'url'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
AttributeError: 'str' object has no attribute 'url'
ERROR: Spider error processing <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
AttributeError: 'str' object has no attribute 'url'
INFO: Closing spider (finished)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.003s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f901070ef10>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:27:29.919708", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (2): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.003s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f900f131750>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:27:29.919708", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (3): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.003s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f901070ef10>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:27:29.919708", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (4): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.003s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f900f131cd0>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:27:29.919708", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
ERROR: Error caught on signal handler: <bound method ?.spider_closed of <SitemapAnalyzer 'sitemap_analyzer' at 0x7f9010c13e90>>
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 150, in maybeDeferred
    result = f(*args, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/pydispatch/robustapply.py", line 55, in robustApply
    return receiver(*arguments, **named)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 39, in spider_closed
    self.elastic_connection.index(index='sitemap', doc_type='crawl', body=doc)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/utils.py", line 73, in _wrapped
    return func(*args, params=params, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/__init__.py", line 298, in index
    _make_path(index, doc_type, id), params=params, body=body)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/transport.py", line 312, in perform_request
    status, headers, data = connection.perform_request(method, url, params, body, ignore=ignore, timeout=timeout)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 123, in perform_request
    raise ConnectionError('N/A', str(e), e)
ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x7f900f131cd0>: Failed to establish a new connection: [Errno 111] Connection refused) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x7f900f131cd0>: Failed to establish a new connection: [Errno 111] Connection refused)
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 2035,
 'downloader/request_count': 6,
 'downloader/request_method_count/GET': 6,
 'downloader/response_bytes': 12037917,
 'downloader/response_count': 6,
 'downloader/response_status_count/200': 6,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 27, 29, 919178),
 'log_count/DEBUG': 19,
 'log_count/ERROR': 6,
 'log_count/INFO': 7,
 'log_count/WARNING': 4,
 'memusage/max': 991318016,
 'memusage/startup': 991318016,
 'request_depth_max': 1,
 'response_received_count': 6,
 'scheduler/dequeued': 6,
 'scheduler/dequeued/memory': 6,
 'scheduler/enqueued': 6,
 'scheduler/enqueued/memory': 6,
 'spider_exceptions/AttributeError': 5,
 'start_time': datetime.datetime(2017, 8, 13, 22, 27, 12, 825492)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
INFO: Received SIGINT, shutting down gracefully. Send again to force 
ERROR: Spider error processing <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(loc)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
AttributeError: 'str' object has no attribute 'url'
INFO: Closing spider (shutdown)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/page_type_resolver/resolve_page_type.py", line 6, in resolve_page_type
    return url.replace('https://www.').replace('http://www.').replace(domain + '/')
TypeError: replace() takes at least 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/page_type_resolver/resolve_page_type.py", line 6, in resolve_page_type
    return url.replace('https://www.').replace('http://www.').replace(domain + '/')
TypeError: replace() takes at least 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/page_type_resolver/resolve_page_type.py", line 6, in resolve_page_type
    return url.replace('https://www.').replace('http://www.').replace(domain + '/')
TypeError: replace() takes at least 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/page_type_resolver/resolve_page_type.py", line 6, in resolve_page_type
    return url.replace('https://www.').replace('http://www.').replace(domain + '/')
TypeError: replace() takes at least 2 arguments (1 given)
ERROR: Spider error processing <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 58, in _parse_sitemap
    self.set_count(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 64, in set_count
    type = resolve_page_type(response.url, self.arguments['domain'])
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/page_type_resolver/resolve_page_type.py", line 6, in resolve_page_type
    return url.replace('https://www.').replace('http://www.').replace(domain + '/')
TypeError: replace() takes at least 2 arguments (1 given)
INFO: Closing spider (finished)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.004s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fb8c0567f10>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:28:44.886646", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (2): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.004s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fb8c0567850>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:28:44.886646", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (3): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.002s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fb8c0567f10>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:28:44.886646", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (4): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.002s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fb8c0567850>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:28:44.886646", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {}, "sitemap_generated": true}
ERROR: Error caught on signal handler: <bound method ?.spider_closed of <SitemapAnalyzer 'sitemap_analyzer' at 0x7fb8c0a6ce90>>
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 150, in maybeDeferred
    result = f(*args, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/pydispatch/robustapply.py", line 55, in robustApply
    return receiver(*arguments, **named)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 39, in spider_closed
    self.elastic_connection.index(index='sitemap', doc_type='crawl', body=doc)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/utils.py", line 73, in _wrapped
    return func(*args, params=params, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/__init__.py", line 298, in index
    _make_path(index, doc_type, id), params=params, body=body)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/transport.py", line 312, in perform_request
    status, headers, data = connection.perform_request(method, url, params, body, ignore=ignore, timeout=timeout)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 123, in perform_request
    raise ConnectionError('N/A', str(e), e)
ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x7fb8c0567850>: Failed to establish a new connection: [Errno 111] Connection refused) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x7fb8c0567850>: Failed to establish a new connection: [Errno 111] Connection refused)
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 2035,
 'downloader/request_count': 6,
 'downloader/request_method_count/GET': 6,
 'downloader/response_bytes': 12037917,
 'downloader/response_count': 6,
 'downloader/response_status_count/200': 6,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 28, 44, 886108),
 'log_count/DEBUG': 19,
 'log_count/ERROR': 6,
 'log_count/INFO': 7,
 'log_count/WARNING': 4,
 'memusage/max': 991318016,
 'memusage/startup': 991318016,
 'request_depth_max': 1,
 'response_received_count': 6,
 'scheduler/dequeued': 6,
 'scheduler/dequeued/memory': 6,
 'scheduler/enqueued': 6,
 'scheduler/enqueued/memory': 6,
 'spider_exceptions/TypeError': 5,
 'start_time': datetime.datetime(2017, 8, 13, 22, 28, 34, 597098)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 59, in _parse_sitemap
    if self.urls_requested_quantity(response):
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 79, in urls_requested_quantity
    type = resolve_page_type(response.url, self.arguments['allowed_domains'])
KeyError: 'allowed_domains'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 59, in _parse_sitemap
    if self.urls_requested_quantity(response):
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 79, in urls_requested_quantity
    type = resolve_page_type(response.url, self.arguments['allowed_domains'])
KeyError: 'allowed_domains'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 59, in _parse_sitemap
    if self.urls_requested_quantity(response):
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 79, in urls_requested_quantity
    type = resolve_page_type(response.url, self.arguments['allowed_domains'])
KeyError: 'allowed_domains'
ERROR: Spider error processing <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 59, in _parse_sitemap
    if self.urls_requested_quantity(response):
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 79, in urls_requested_quantity
    type = resolve_page_type(response.url, self.arguments['allowed_domains'])
KeyError: 'allowed_domains'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 59, in _parse_sitemap
    if self.urls_requested_quantity(response):
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_sitemap_analyzer.py", line 79, in urls_requested_quantity
    type = resolve_page_type(response.url, self.arguments['allowed_domains'])
KeyError: 'allowed_domains'
INFO: Closing spider (finished)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.003s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd495432590>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:30:32.978621", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {"landingsitemap.xml": 1, "departmentsitemap.xml": 1, "familysitemap.xml": 1, "productsitemap.xml": 1, "finelinesitemap.xml": 1}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (2): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd4954326d0>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:30:32.978621", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {"landingsitemap.xml": 1, "departmentsitemap.xml": 1, "familysitemap.xml": 1, "productsitemap.xml": 1, "finelinesitemap.xml": 1}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (3): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd495432b90>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:30:32.978621", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {"landingsitemap.xml": 1, "departmentsitemap.xml": 1, "familysitemap.xml": 1, "productsitemap.xml": 1, "finelinesitemap.xml": 1}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (4): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.001s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd495432590>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:30:32.978621", "urls_counter": 5, "sitemap_date_updated": "", "sub_sitemaps_counts": {"landingsitemap.xml": 1, "departmentsitemap.xml": 1, "familysitemap.xml": 1, "productsitemap.xml": 1, "finelinesitemap.xml": 1}, "sitemap_generated": true}
ERROR: Error caught on signal handler: <bound method ?.spider_closed of <SitemapAnalyzer 'sitemap_analyzer' at 0x7fd495e81e10>>
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 150, in maybeDeferred
    result = f(*args, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/pydispatch/robustapply.py", line 55, in robustApply
    return receiver(*arguments, **named)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 39, in spider_closed
    self.elastic_connection.index(index='sitemap', doc_type='crawl', body=doc)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/utils.py", line 73, in _wrapped
    return func(*args, params=params, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/__init__.py", line 298, in index
    _make_path(index, doc_type, id), params=params, body=body)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/transport.py", line 312, in perform_request
    status, headers, data = connection.perform_request(method, url, params, body, ignore=ignore, timeout=timeout)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 123, in perform_request
    raise ConnectionError('N/A', str(e), e)
ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x7fd495432590>: Failed to establish a new connection: [Errno 111] Connection refused) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x7fd495432590>: Failed to establish a new connection: [Errno 111] Connection refused)
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 2035,
 'downloader/request_count': 6,
 'downloader/request_method_count/GET': 6,
 'downloader/response_bytes': 12037917,
 'downloader/response_count': 6,
 'downloader/response_status_count/200': 6,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 30, 32, 978117),
 'log_count/DEBUG': 19,
 'log_count/ERROR': 6,
 'log_count/INFO': 7,
 'log_count/WARNING': 4,
 'memusage/max': 991318016,
 'memusage/startup': 991318016,
 'request_depth_max': 1,
 'response_received_count': 6,
 'scheduler/dequeued': 6,
 'scheduler/dequeued/memory': 6,
 'scheduler/enqueued': 6,
 'scheduler/enqueued/memory': 6,
 'spider_exceptions/KeyError': 5,
 'start_time': datetime.datetime(2017, 8, 13, 22, 30, 24, 262096)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-1671m-gota-de_58-mm-violeta_00750637682299> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-1671m-gota-de_58-mm-violeta_00750637682299> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11293-gota-de-58-mm-dorado_00750637680140> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11293-gota-de-58-mm-dorado_00750637680140> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11269-gota-de-58-mm-anaranjado_00750637680144> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11269-gota-de-58-mm-anaranjado_00750637680144> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11219-gota-de-58-mm-verde_00750637680142> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11219-gota-de-58-mm-verde_00750637680142> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11217-gota-de-58-mm-azul_00750637680141> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11217-gota-de-58-mm-azul_00750637680141> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-02930-gota-de-58-mm-plata_00750637682322> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-02930-gota-de-58-mm-plata_00750637682322> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-019z2-gota-de-58-mm-rosa_00750637680147> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-019z2-gota-de-58-mm-rosa_00750637680147> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00451-cafe-gota-de-58-mm-plata_00750637681867> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00451-cafe-gota-de-58-mm-plata_00750637681867> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-0014b-gota-de-58-mm-rosa_00750637682395> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-0014b-gota-de-58-mm-rosa_00750637682395> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00133-gota-de-58-mm-cafe_00750637682320> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00133-gota-de-58-mm-cafe_00750637682320> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1144l-gota-58-mm-azul_00750637682307> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1144l-gota-58-mm-azul_00750637682307> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112w3-gota-de-58-mm-plata_00750637682298> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112w3-gota-de-58-mm-plata_00750637682298> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Closing spider (shutdown)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112p9-gota-de-58-mm-verde_00750637682302> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112p9-gota-de-58-mm-verde_00750637682302> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.004s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fe25625d2d0>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:30:56.425391", "urls_counter": 43766, "sitemap_date_updated": "", "sub_sitemaps_counts": {"productsitemap.xml": 43766}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (2): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.003s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fe25625d210>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:30:56.425391", "urls_counter": 43766, "sitemap_date_updated": "", "sub_sitemaps_counts": {"productsitemap.xml": 43766}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (3): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.003s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fe25625d2d0>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:30:56.425391", "urls_counter": 43766, "sitemap_date_updated": "", "sub_sitemaps_counts": {"productsitemap.xml": 43766}, "sitemap_generated": true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (4): localhost
WARNING: POST http://localhost:9200/sitemap/crawl [status:N/A request:0.003s]
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 114, in perform_request
    response = self.pool.urlopen(method, url, body, retries=False, headers=self.headers, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 639, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/util/retry.py", line 333, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 601, in urlopen
    chunked=chunked)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connectionpool.py", line 357, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python2.7/httplib.py", line 1057, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 1097, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 1053, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 897, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 859, in send
    self.connect()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 166, in connect
    conn = self._new_conn()
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/urllib3/connection.py", line 150, in _new_conn
    self, "Failed to establish a new connection: %s" % e)
NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fe25625d210>: Failed to establish a new connection: [Errno 111] Connection refused
DEBUG: > {"date": "2017-08-13T16:30:56.425391", "urls_counter": 43766, "sitemap_date_updated": "", "sub_sitemaps_counts": {"productsitemap.xml": 43766}, "sitemap_generated": true}
ERROR: Error caught on signal handler: <bound method ?.spider_closed of <SitemapAnalyzer 'sitemap_analyzer' at 0x7fe25c0a5e10>>
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 150, in maybeDeferred
    result = f(*args, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/pydispatch/robustapply.py", line 55, in robustApply
    return receiver(*arguments, **named)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 39, in spider_closed
    self.elastic_connection.index(index='sitemap', doc_type='crawl', body=doc)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/utils.py", line 73, in _wrapped
    return func(*args, params=params, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/client/__init__.py", line 298, in index
    _make_path(index, doc_type, id), params=params, body=body)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/transport.py", line 312, in perform_request
    status, headers, data = connection.perform_request(method, url, params, body, ignore=ignore, timeout=timeout)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/elasticsearch/connection/http_urllib3.py", line 123, in perform_request
    raise ConnectionError('N/A', str(e), e)
ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x7fe25625d210>: Failed to establish a new connection: [Errno 111] Connection refused) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x7fe25625d210>: Failed to establish a new connection: [Errno 111] Connection refused)
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 11923,
 'downloader/request_count': 15,
 'downloader/request_method_count/GET': 15,
 'downloader/response_bytes': 11753230,
 'downloader/response_count': 15,
 'downloader/response_status_count/200': 15,
 'finish_reason': 'shutdown',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 30, 56, 424701),
 'log_count/DEBUG': 28,
 'log_count/ERROR': 14,
 'log_count/INFO': 8,
 'log_count/WARNING': 4,
 'memusage/max': 991318016,
 'memusage/startup': 991318016,
 'request_depth_max': 2,
 'response_received_count': 15,
 'scheduler/dequeued': 15,
 'scheduler/dequeued/memory': 15,
 'scheduler/enqueued': 506,
 'scheduler/enqueued/memory': 506,
 'spider_exceptions/AttributeError': 13,
 'start_time': datetime.datetime(2017, 8, 13, 22, 30, 43, 15032)}
INFO: Spider closed (shutdown)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-1671m-gota-de_58-mm-violeta_00750637682299> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-1671m-gota-de_58-mm-violeta_00750637682299> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11293-gota-de-58-mm-dorado_00750637680140> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11293-gota-de-58-mm-dorado_00750637680140> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11269-gota-de-58-mm-anaranjado_00750637680144> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11219-gota-de-58-mm-verde_00750637680142> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11269-gota-de-58-mm-anaranjado_00750637680144> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11217-gota-de-58-mm-azul_00750637680141> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11219-gota-de-58-mm-verde_00750637680142> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-02930-gota-de-58-mm-plata_00750637682322> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11217-gota-de-58-mm-azul_00750637680141> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-019z2-gota-de-58-mm-rosa_00750637680147> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-02930-gota-de-58-mm-plata_00750637682322> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-019z2-gota-de-58-mm-rosa_00750637680147> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00451-cafe-gota-de-58-mm-plata_00750637681867> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-0014b-gota-de-58-mm-rosa_00750637682395> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00451-cafe-gota-de-58-mm-plata_00750637681867> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00133-gota-de-58-mm-cafe_00750637682320> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-0014b-gota-de-58-mm-rosa_00750637682395> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1144l-gota-58-mm-azul_00750637682307> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00133-gota-de-58-mm-cafe_00750637682320> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112w3-gota-de-58-mm-plata_00750637682298> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1144l-gota-58-mm-azul_00750637682307> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112w3-gota-de-58-mm-plata_00750637682298> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112p9-gota-de-58-mm-verde_00750637682302> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112p9-gota-de-58-mm-verde_00750637682302> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1124d-gota-de-58-mm-naranja_00750637682303> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1124d-gota-de-58-mm-naranja_00750637682303> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00258-gota-de-58-mm-verde-clasico_00750637682300> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00258-gota-de-58-mm-verde-clasico_00750637682300> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00158-gota-58-mm-verde-clasico_00750637682306> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00158-gota-58-mm-verde-clasico_00750637682306> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00115-gota-de-58-mm-rosa_00750637682394> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00115-gota-de-58-mm-rosa_00750637682394> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-8958g-gota-de-56-mm-gris_00750637682458> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-8958g-gota-de-56-mm-gris_00750637682458> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-612213-gota-de-56-mm-cafe_00750637682457> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-612213-gota-de-56-mm-cafe_00750637682457> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-601s71-gota-de-56-mm-negro_00750637682456> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-601s71-gota-de-56-mm-negro_00750637682456> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-14632-gota-de-58-mm-gris_00750637682397> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-14632-gota-de-58-mm-gris_00750637682397> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-001-gota-de-58-mm-marron_00750637682318> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-001-gota-de-58-mm-marron_00750637682318> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-00332-gota-de-58-mm-gris_00750637682406> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-00332-gota-de-58-mm-gris_00750637682406> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-0013f-gota-de-58-mm-gris_00750637682405> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-0013f-gota-de-58-mm-gris_00750637682405> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flip-out-polarizados-rb-3460-00271-gota-de-58-mm-verde-clasico_00750637682404> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flip-out-polarizados-rb-3460-00271-gota-de-58-mm-verde-clasico_00750637682404> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1548g-gota-de-58-mm-azul-degradado_00750637682417> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1548g-gota-de-58-mm-azul-degradado_00750637682417> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15471-gota-de-58-mm-verde_00750637682416> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15471-gota-de-58-mm-verde_00750637682416> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1546g-gota-de-58-mm-gris_00750637682415> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1546g-gota-de-58-mm-gris_00750637682415> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15413-gota-de-58-mm-cafe-degradado_00750637682414> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15413-gota-de-58-mm-cafe-degradado_00750637682414> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14993-gota-de-58-mm-dorado_00750637682413> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14993-gota-de-58-mm-dorado_00750637682413> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14913-gota-de-58-mm-cafe_00750637682411> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14913-gota-de-58-mm-cafe_00750637682411> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14771-gota-de-58-mm-verde-clasico_00750637682410> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14771-gota-de-58-mm-verde-clasico_00750637682410> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14713-gota-de-58-mm-cafe_00750637682409> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14713-gota-de-58-mm-cafe_00750637682409> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-900051-gota-de-58-mm-marron_00750637682304> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-900051-gota-de-58-mm-marron_00750637682304> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-90003f-gota-de-58-mm-azul-degradado_00750637682317> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-90003f-gota-de-58-mm-azul-degradado_00750637682317> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-dorado_00750624545052> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-dorado_00750624545052> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-carey_00750624545062> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-carey_00750624545062> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-negro_00750624545067> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-negro_00750624545067> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-azul_00750624545058> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-azul_00750624545058> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-navegador-gris_00750624545065> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-navegador-gris_00750624545065> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-clubmaster-negro_00750624545060> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-clubmaster-negro_00750624545060> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-aviador-carey_00750624545063> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-aviador-carey_00750624545063> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ironman-pro-cronos-unisex-mod-deportivo-humo_00750624542292> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ironman-pro-cronos-unisex-mod-deportivo-humo_00750624542292> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.statu)
AttributeError: 'HtmlResponse' object has no attribute 'statu'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-clubmaster-dorado-49mm-mas-lentes-wayfarer-verde-54mm_b2910800005288> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-clubmaster-dorado-49mm-mas-lentes-justin-polarizado-54mm-marron_b2910800005290> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-clubmaster-dorado-49mm-mas-lentes-erika-velvet-azul-54mm_b2910800005287> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-clubmaster-dorado-49mm-mas-lentes-clubmaster-51mm-verde_b2910800005289> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-clubmaster-dorado-49mm-mas-lente-rosa-aviator-58mm_b2910800005291> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-polarizados-58mm-verde-mas-lentes-wayfarer-50mm-cafe_b2910800005293> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-polarizados-58mm-verde-mas-lentes-liteforce-58-mm-gris_b2910800005294> (referer: https://www.walmart.com.mx/productsitemap.xml)
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Closing spider (shutdown)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-polarizados-58mm-verde-mas-lentes-aviator-polarizados-58mm-naranja_b2910800005292> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
DEBUG: http://localhost:9200 "POST /sitemap/crawl HTTP/1.1" 201 160
INFO: POST http://localhost:9200/sitemap/crawl [status:201 request:0.377s]
DEBUG: > {"date": "2017-08-13T16:32:04.513324", "urls_counter": 44515, "sitemap_date_updated": "", "sub_sitemaps_counts": {"landingsitemap.xml": 749, "productsitemap.xml": 43766}, "sitemap_generated": true}
DEBUG: < {"_index":"sitemap","_type":"crawl","_id":"AV3ducG2Wl05SRaHHmdE","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 43240,
 'downloader/request_count': 54,
 'downloader/request_method_count/GET': 54,
 'downloader/response_bytes': 12013345,
 'downloader/response_count': 54,
 'downloader/response_status_count/200': 54,
 'finish_reason': 'shutdown',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 32, 4, 513149),
 'log_count/DEBUG': 60,
 'log_count/ERROR': 43,
 'log_count/INFO': 9,
 'memusage/max': 991318016,
 'memusage/startup': 991318016,
 'request_depth_max': 2,
 'response_received_count': 54,
 'scheduler/dequeued': 54,
 'scheduler/dequeued/memory': 54,
 'scheduler/enqueued': 1006,
 'scheduler/enqueued/memory': 1006,
 'spider_exceptions/AttributeError': 43,
 'start_time': datetime.datetime(2017, 8, 13, 22, 31, 35, 445843)}
INFO: Spider closed (shutdown)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-1671m-gota-de_58-mm-violeta_00750637682299> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-1671m-gota-de_58-mm-violeta_00750637682299> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11293-gota-de-58-mm-dorado_00750637680140> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11269-gota-de-58-mm-anaranjado_00750637680144> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11293-gota-de-58-mm-dorado_00750637680140> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11219-gota-de-58-mm-verde_00750637680142> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11269-gota-de-58-mm-anaranjado_00750637680144> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11217-gota-de-58-mm-azul_00750637680141> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11219-gota-de-58-mm-verde_00750637680142> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11217-gota-de-58-mm-azul_00750637680141> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-02930-gota-de-58-mm-plata_00750637682322> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-019z2-gota-de-58-mm-rosa_00750637680147> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-02930-gota-de-58-mm-plata_00750637682322> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00451-cafe-gota-de-58-mm-plata_00750637681867> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-019z2-gota-de-58-mm-rosa_00750637680147> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-0014b-gota-de-58-mm-rosa_00750637682395> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00451-cafe-gota-de-58-mm-plata_00750637681867> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00133-gota-de-58-mm-cafe_00750637682320> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-0014b-gota-de-58-mm-rosa_00750637682395> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1144l-gota-58-mm-azul_00750637682307> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00133-gota-de-58-mm-cafe_00750637682320> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112w3-gota-de-58-mm-plata_00750637682298> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1144l-gota-58-mm-azul_00750637682307> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112p9-gota-de-58-mm-verde_00750637682302> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112w3-gota-de-58-mm-plata_00750637682298> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1124d-gota-de-58-mm-naranja_00750637682303> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112p9-gota-de-58-mm-verde_00750637682302> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1124d-gota-de-58-mm-naranja_00750637682303> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00258-gota-de-58-mm-verde-clasico_00750637682300> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00158-gota-58-mm-verde-clasico_00750637682306> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00258-gota-de-58-mm-verde-clasico_00750637682300> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00158-gota-58-mm-verde-clasico_00750637682306> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00115-gota-de-58-mm-rosa_00750637682394> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-8958g-gota-de-56-mm-gris_00750637682458> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00115-gota-de-58-mm-rosa_00750637682394> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-612213-gota-de-56-mm-cafe_00750637682457> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-8958g-gota-de-56-mm-gris_00750637682458> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-601s71-gota-de-56-mm-negro_00750637682456> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-612213-gota-de-56-mm-cafe_00750637682457> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-14632-gota-de-58-mm-gris_00750637682397> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-601s71-gota-de-56-mm-negro_00750637682456> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-001-gota-de-58-mm-marron_00750637682318> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-14632-gota-de-58-mm-gris_00750637682397> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-00332-gota-de-58-mm-gris_00750637682406> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-001-gota-de-58-mm-marron_00750637682318> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-0013f-gota-de-58-mm-gris_00750637682405> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-00332-gota-de-58-mm-gris_00750637682406> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flip-out-polarizados-rb-3460-00271-gota-de-58-mm-verde-clasico_00750637682404> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-0013f-gota-de-58-mm-gris_00750637682405> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1548g-gota-de-58-mm-azul-degradado_00750637682417> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flip-out-polarizados-rb-3460-00271-gota-de-58-mm-verde-clasico_00750637682404> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15471-gota-de-58-mm-verde_00750637682416> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1548g-gota-de-58-mm-azul-degradado_00750637682417> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1546g-gota-de-58-mm-gris_00750637682415> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15471-gota-de-58-mm-verde_00750637682416> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15413-gota-de-58-mm-cafe-degradado_00750637682414> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1546g-gota-de-58-mm-gris_00750637682415> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15413-gota-de-58-mm-cafe-degradado_00750637682414> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14993-gota-de-58-mm-dorado_00750637682413> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14993-gota-de-58-mm-dorado_00750637682413> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14913-gota-de-58-mm-cafe_00750637682411> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14771-gota-de-58-mm-verde-clasico_00750637682410> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14913-gota-de-58-mm-cafe_00750637682411> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14713-gota-de-58-mm-cafe_00750637682409> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14771-gota-de-58-mm-verde-clasico_00750637682410> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-900051-gota-de-58-mm-marron_00750637682304> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14713-gota-de-58-mm-cafe_00750637682409> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-90003f-gota-de-58-mm-azul-degradado_00750637682317> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-900051-gota-de-58-mm-marron_00750637682304> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-dorado_00750624545052> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-90003f-gota-de-58-mm-azul-degradado_00750637682317> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-carey_00750624545062> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-dorado_00750624545052> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-negro_00750624545067> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-carey_00750624545062> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-azul_00750624545058> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-negro_00750624545067> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-navegador-gris_00750624545065> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-azul_00750624545058> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-navegador-gris_00750624545065> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-clubmaster-negro_00750624545060> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-clubmaster-negro_00750624545060> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-aviador-carey_00750624545063> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ironman-pro-cronos-unisex-mod-deportivo-humo_00750624542292> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-aviador-carey_00750624545063> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-clubmaster-dorado-49mm-mas-lentes-wayfarer-verde-54mm_b2910800005288> (referer: https://www.walmart.com.mx/productsitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ironman-pro-cronos-unisex-mod-deportivo-humo_00750624542292> (referer: https://www.walmart.com.mx/productsitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 653, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 34, in parse
    self.validate_response(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 42, in validate_response
    self.validate_canonical(response)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/sitemap_analyzer.py", line 49, in validate_canonical
    doc = parse_canonical(canonical, request_url, response.status)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/elastic_parsers/elastic_parsers.py", line 11, in parse_canonical
    'page_type': resolve_page_type(request_url),
TypeError: resolve_page_type() takes exactly 2 arguments (1 given)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-clubmaster-dorado-49mm-mas-lentes-justin-polarizado-54mm-marron_b2910800005290> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-clubmaster-dorado-49mm-mas-lentes-erika-velvet-azul-54mm_b2910800005287> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-clubmaster-dorado-49mm-mas-lentes-clubmaster-51mm-verde_b2910800005289> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-clubmaster-dorado-49mm-mas-lente-rosa-aviator-58mm_b2910800005291> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-polarizados-58mm-verde-mas-lentes-wayfarer-50mm-cafe_b2910800005293> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-polarizados-58mm-verde-mas-lentes-liteforce-58-mm-gris_b2910800005294> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-polarizados-58mm-verde-mas-lentes-aviator-polarizados-58mm-naranja_b2910800005292> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-polarizados-58mm-lentes-wayfarer-54mm-verde_b2910800005296> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-polarizados-58mm-lentes-justin-polarizador-4mm-marron_b2910800005295> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (400) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-58-mm-dorado-mas-lentes-wayfarer-50-mm-cafe%0A_b2910800005299> (referer: https://www.walmart.com.mx/productsitemap.xml)
INFO: Ignoring response <400 https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-58-mm-dorado-mas-lentes-wayfarer-50-mm-cafe%0A_b2910800005299>: HTTP status code is not handled or not allowed
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-58-mm-dorado-mas-lentes-aviator-polarizados-58-mm-naranja_b2910800005298> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (400) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-58-mm-dorado-mas-lentes-aviator-polarizados_58-mm-verde%0A_b2910800005297> (referer: https://www.walmart.com.mx/productsitemap.xml)
INFO: Ignoring response <400 https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-58-mm-dorado-mas-lentes-aviator-polarizados_58-mm-verde%0A_b2910800005297>: HTTP status code is not handled or not allowed
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Closing spider (shutdown)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-58-mm-dorado-mas-lentes-aviator-58-mm-rosa_b2910800005301> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
DEBUG: http://localhost:9200 "POST /sitemap/crawl HTTP/1.1" 201 160
INFO: POST http://localhost:9200/sitemap/crawl [status:201 request:0.032s]
DEBUG: > {"date": "2017-08-13T16:32:39.842343", "urls_counter": 44515, "sitemap_date_updated": "", "sub_sitemaps_counts": {"landingsitemap.xml": 749, "productsitemap.xml": 43766}, "sitemap_generated": true}
DEBUG: < {"_index":"sitemap","_type":"crawl","_id":"AV3dukqtWl05SRaHHmdF","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 30689,
 'downloader/request_count': 60,
 'downloader/request_method_count/GET': 60,
 'downloader/response_bytes': 12021399,
 'downloader/response_count': 60,
 'downloader/response_status_count/200': 58,
 'downloader/response_status_count/400': 2,
 'finish_reason': 'shutdown',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 32, 39, 841821),
 'httperror/response_ignored_count': 2,
 'httperror/response_ignored_status_count/400': 2,
 'log_count/DEBUG': 66,
 'log_count/ERROR': 43,
 'log_count/INFO': 11,
 'memusage/max': 991318016,
 'memusage/startup': 991318016,
 'request_depth_max': 2,
 'response_received_count': 60,
 'scheduler/dequeued': 60,
 'scheduler/dequeued/memory': 60,
 'scheduler/enqueued': 1006,
 'scheduler/enqueued/memory': 1006,
 'spider_exceptions/TypeError': 43,
 'start_time': datetime.datetime(2017, 8, 13, 22, 32, 24, 363056)}
INFO: Spider closed (shutdown)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-1671m-gota-de_58-mm-violeta_00750637682299> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11293-gota-de-58-mm-dorado_00750637680140> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.053s]
DEBUG: > {"date": "2017-08-13T16:34:06.324903", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-1671m-gota-de_58-mm-violeta_00750637682299", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-1671m-gota-de_58-mm-violeta_00750637682299", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-1671m-gota-de_58-mm-violeta_00750637682299\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du5x5Wl05SRaHHmdG","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11269-gota-de-58-mm-anaranjado_00750637680144> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.017s]
DEBUG: > {"date": "2017-08-13T16:34:06.396587", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11293-gota-de-58-mm-dorado_00750637680140", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11293-gota-de-58-mm-dorado_00750637680140", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11293-gota-de-58-mm-dorado_00750637680140\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du5y9Wl05SRaHHmdH","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11219-gota-de-58-mm-verde_00750637680142> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.022s]
DEBUG: > {"date": "2017-08-13T16:34:06.491750", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11269-gota-de-58-mm-anaranjado_00750637680144", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11269-gota-de-58-mm-anaranjado_00750637680144", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11269-gota-de-58-mm-anaranjado_00750637680144\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du50dWl05SRaHHmdI","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11217-gota-de-58-mm-azul_00750637680141> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.016s]
DEBUG: > {"date": "2017-08-13T16:34:06.590437", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11219-gota-de-58-mm-verde_00750637680142", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11219-gota-de-58-mm-verde_00750637680142", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11219-gota-de-58-mm-verde_00750637680142\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du51_Wl05SRaHHmdJ","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-02930-gota-de-58-mm-plata_00750637682322> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.020s]
DEBUG: > {"date": "2017-08-13T16:34:06.662926", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11217-gota-de-58-mm-azul_00750637680141", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11217-gota-de-58-mm-azul_00750637680141", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-11217-gota-de-58-mm-azul_00750637680141\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du53IWl05SRaHHmdK","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-019z2-gota-de-58-mm-rosa_00750637680147> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.022s]
DEBUG: > {"date": "2017-08-13T16:34:06.751519", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-02930-gota-de-58-mm-plata_00750637682322", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-02930-gota-de-58-mm-plata_00750637682322", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-02930-gota-de-58-mm-plata_00750637682322\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du54gWl05SRaHHmdL","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00451-cafe-gota-de-58-mm-plata_00750637681867> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.067s]
DEBUG: > {"date": "2017-08-13T16:34:06.829816", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-019z2-gota-de-58-mm-rosa_00750637680147", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-019z2-gota-de-58-mm-rosa_00750637680147", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-019z2-gota-de-58-mm-rosa_00750637680147\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du55vWl05SRaHHmdM","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-0014b-gota-de-58-mm-rosa_00750637682395> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.020s]
DEBUG: > {"date": "2017-08-13T16:34:06.909842", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00451-cafe-gota-de-58-mm-plata_00750637681867", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00451-cafe-gota-de-58-mm-plata_00750637681867", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00451-cafe-gota-de-58-mm-plata_00750637681867\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du56_Wl05SRaHHmdN","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.024s]
DEBUG: > {"date": "2017-08-13T16:34:07.010379", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-0014b-gota-de-58-mm-rosa_00750637682395", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-0014b-gota-de-58-mm-rosa_00750637682395", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-0014b-gota-de-58-mm-rosa_00750637682395\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du58kWl05SRaHHmdO","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00133-gota-de-58-mm-cafe_00750637682320> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.016s]
DEBUG: > {"date": "2017-08-13T16:34:07.149582", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00133-gota-de-58-mm-cafe_00750637682320", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00133-gota-de-58-mm-cafe_00750637682320", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-rb-3025-00133-gota-de-58-mm-cafe_00750637682320\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du5-uWl05SRaHHmdP","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1144l-gota-58-mm-azul_00750637682307> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112w3-gota-de-58-mm-plata_00750637682298> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.016s]
DEBUG: > {"date": "2017-08-13T16:34:07.283717", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1144l-gota-58-mm-azul_00750637682307", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1144l-gota-58-mm-azul_00750637682307", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1144l-gota-58-mm-azul_00750637682307\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6A1Wl05SRaHHmdQ","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112p9-gota-de-58-mm-verde_00750637682302> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.016s]
DEBUG: > {"date": "2017-08-13T16:34:07.380860", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112w3-gota-de-58-mm-plata_00750637682298", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112w3-gota-de-58-mm-plata_00750637682298", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112w3-gota-de-58-mm-plata_00750637682298\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6CWWl05SRaHHmdR","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1124d-gota-de-58-mm-naranja_00750637682303> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.021s]
DEBUG: > {"date": "2017-08-13T16:34:07.453573", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112p9-gota-de-58-mm-verde_00750637682302", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112p9-gota-de-58-mm-verde_00750637682302", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-112p9-gota-de-58-mm-verde_00750637682302\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6DgWl05SRaHHmdS","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.020s]
DEBUG: > {"date": "2017-08-13T16:34:07.551839", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1124d-gota-de-58-mm-naranja_00750637682303", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1124d-gota-de-58-mm-naranja_00750637682303", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-1124d-gota-de-58-mm-naranja_00750637682303\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6FBWl05SRaHHmdT","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00258-gota-de-58-mm-verde-clasico_00750637682300> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00158-gota-58-mm-verde-clasico_00750637682306> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.016s]
DEBUG: > {"date": "2017-08-13T16:34:07.710851", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00258-gota-de-58-mm-verde-clasico_00750637682300", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00258-gota-de-58-mm-verde-clasico_00750637682300", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00258-gota-de-58-mm-verde-clasico_00750637682300\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6HgWl05SRaHHmdU","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00115-gota-de-58-mm-rosa_00750637682394> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.019s]
DEBUG: > {"date": "2017-08-13T16:34:07.778913", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00158-gota-58-mm-verde-clasico_00750637682306", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00158-gota-58-mm-verde-clasico_00750637682306", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00158-gota-58-mm-verde-clasico_00750637682306\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6IkWl05SRaHHmdV","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-8958g-gota-de-56-mm-gris_00750637682458> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.016s]
DEBUG: > {"date": "2017-08-13T16:34:07.874618", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00115-gota-de-58-mm-rosa_00750637682394", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00115-gota-de-58-mm-rosa_00750637682394", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-polarizados-rb-3025-00115-gota-de-58-mm-rosa_00750637682394\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6KEWl05SRaHHmdW","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-612213-gota-de-56-mm-cafe_00750637682457> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.020s]
DEBUG: > {"date": "2017-08-13T16:34:07.951787", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-8958g-gota-de-56-mm-gris_00750637682458", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-8958g-gota-de-56-mm-gris_00750637682458", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-8958g-gota-de-56-mm-gris_00750637682458\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6LRWl05SRaHHmdX","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-601s71-gota-de-56-mm-negro_00750637682456> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.017s]
DEBUG: > {"date": "2017-08-13T16:34:08.045331", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-612213-gota-de-56-mm-cafe_00750637682457", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-612213-gota-de-56-mm-cafe_00750637682457", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-612213-gota-de-56-mm-cafe_00750637682457\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6MuWl05SRaHHmdY","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.022s]
DEBUG: > {"date": "2017-08-13T16:34:08.117994", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-601s71-gota-de-56-mm-negro_00750637682456", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-601s71-gota-de-56-mm-negro_00750637682456", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-light-ray-rb-4211-601s71-gota-de-56-mm-negro_00750637682456\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6N4Wl05SRaHHmdZ","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-14632-gota-de-58-mm-gris_00750637682397> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-001-gota-de-58-mm-marron_00750637682318> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.018s]
DEBUG: > {"date": "2017-08-13T16:34:08.270355", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-14632-gota-de-58-mm-gris_00750637682397", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-14632-gota-de-58-mm-gris_00750637682397", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-14632-gota-de-58-mm-gris_00750637682397\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6QPWl05SRaHHmda","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-00332-gota-de-58-mm-gris_00750637682406> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.017s]
DEBUG: > {"date": "2017-08-13T16:34:08.345529", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-001-gota-de-58-mm-marron_00750637682318", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-001-gota-de-58-mm-marron_00750637682318", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-full-color-rb-3025jm-001-gota-de-58-mm-marron_00750637682318\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6RbWl05SRaHHmdb","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-0013f-gota-de-58-mm-gris_00750637682405> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.021s]
DEBUG: > {"date": "2017-08-13T16:34:08.451427", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-00332-gota-de-58-mm-gris_00750637682406", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-00332-gota-de-58-mm-gris_00750637682406", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-00332-gota-de-58-mm-gris_00750637682406\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6TGWl05SRaHHmdc","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.021s]
DEBUG: > {"date": "2017-08-13T16:34:08.550713", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-0013f-gota-de-58-mm-gris_00750637682405", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-0013f-gota-de-58-mm-gris_00750637682405", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-folding-rb-3479-0013f-gota-de-58-mm-gris_00750637682405\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6UpWl05SRaHHmdd","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flip-out-polarizados-rb-3460-00271-gota-de-58-mm-verde-clasico_00750637682404> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1548g-gota-de-58-mm-azul-degradado_00750637682417> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.015s]
DEBUG: > {"date": "2017-08-13T16:34:08.704078", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flip-out-polarizados-rb-3460-00271-gota-de-58-mm-verde-clasico_00750637682404", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flip-out-polarizados-rb-3460-00271-gota-de-58-mm-verde-clasico_00750637682404", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flip-out-polarizados-rb-3460-00271-gota-de-58-mm-verde-clasico_00750637682404\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6XBWl05SRaHHmde","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15471-gota-de-58-mm-verde_00750637682416> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.019s]
DEBUG: > {"date": "2017-08-13T16:34:08.787969", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1548g-gota-de-58-mm-azul-degradado_00750637682417", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1548g-gota-de-58-mm-azul-degradado_00750637682417", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1548g-gota-de-58-mm-azul-degradado_00750637682417\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6YVWl05SRaHHmdf","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1546g-gota-de-58-mm-gris_00750637682415> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.016s]
DEBUG: > {"date": "2017-08-13T16:34:08.884584", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15471-gota-de-58-mm-verde_00750637682416", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15471-gota-de-58-mm-verde_00750637682416", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15471-gota-de-58-mm-verde_00750637682416\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6Z2Wl05SRaHHmdg","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15413-gota-de-58-mm-cafe-degradado_00750637682414> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.014s]
DEBUG: > {"date": "2017-08-13T16:34:08.955825", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1546g-gota-de-58-mm-gris_00750637682415", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1546g-gota-de-58-mm-gris_00750637682415", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-1546g-gota-de-58-mm-gris_00750637682415\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6a8Wl05SRaHHmdh","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14993-gota-de-58-mm-dorado_00750637682413> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.016s]
DEBUG: > {"date": "2017-08-13T16:34:09.057447", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15413-gota-de-58-mm-cafe-degradado_00750637682414", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15413-gota-de-58-mm-cafe-degradado_00750637682414", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-15413-gota-de-58-mm-cafe-degradado_00750637682414\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6ciWl05SRaHHmdi","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.021s]
DEBUG: > {"date": "2017-08-13T16:34:09.126573", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14993-gota-de-58-mm-dorado_00750637682413", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14993-gota-de-58-mm-dorado_00750637682413", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14993-gota-de-58-mm-dorado_00750637682413\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6dpWl05SRaHHmdj","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14913-gota-de-58-mm-cafe_00750637682411> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.023s]
DEBUG: > {"date": "2017-08-13T16:34:09.264006", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14913-gota-de-58-mm-cafe_00750637682411", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14913-gota-de-58-mm-cafe_00750637682411", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14913-gota-de-58-mm-cafe_00750637682411\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6fzWl05SRaHHmdk","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14771-gota-de-58-mm-verde-clasico_00750637682410> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14713-gota-de-58-mm-cafe_00750637682409> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.015s]
DEBUG: > {"date": "2017-08-13T16:34:09.400715", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14771-gota-de-58-mm-verde-clasico_00750637682410", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14771-gota-de-58-mm-verde-clasico_00750637682410", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14771-gota-de-58-mm-verde-clasico_00750637682410\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6h6Wl05SRaHHmdl","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-900051-gota-de-58-mm-marron_00750637682304> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.015s]
DEBUG: > {"date": "2017-08-13T16:34:09.487830", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14713-gota-de-58-mm-cafe_00750637682409", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14713-gota-de-58-mm-cafe_00750637682409", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-flatmetal-rb-3513-14713-gota-de-58-mm-cafe_00750637682409\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6jRWl05SRaHHmdm","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-90003f-gota-de-58-mm-azul-degradado_00750637682317> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.014s]
DEBUG: > {"date": "2017-08-13T16:34:09.575000", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-900051-gota-de-58-mm-marron_00750637682304", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-900051-gota-de-58-mm-marron_00750637682304", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-900051-gota-de-58-mm-marron_00750637682304\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6koWl05SRaHHmdn","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-dorado_00750624545052> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.015s]
DEBUG: > {"date": "2017-08-13T16:34:09.655882", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-90003f-gota-de-58-mm-azul-degradado_00750637682317", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-90003f-gota-de-58-mm-azul-degradado_00750637682317", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ray-ban-aviator-at-collection-rb-3025-90003f-gota-de-58-mm-azul-degradado_00750637682317\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6l5Wl05SRaHHmdo","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-carey_00750624545062> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.020s]
DEBUG: > {"date": "2017-08-13T16:34:09.734110", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-dorado_00750624545052", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-dorado_00750624545052", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-dorado_00750624545052\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6nHWl05SRaHHmdp","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-negro_00750624545067> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.017s]
DEBUG: > {"date": "2017-08-13T16:34:09.823256", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-carey_00750624545062", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-carey_00750624545062", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-wayfarer-carey_00750624545062\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6ogWl05SRaHHmdq","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-azul_00750624545058> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.017s]
DEBUG: > {"date": "2017-08-13T16:34:09.900703", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-negro_00750624545067", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-negro_00750624545067", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-negro_00750624545067\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6puWl05SRaHHmdr","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-navegador-gris_00750624545065> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.016s]
DEBUG: > {"date": "2017-08-13T16:34:09.986715", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-azul_00750624545058", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-azul_00750624545058", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-redondo-azul_00750624545058\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6rEWl05SRaHHmds","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.023s]
DEBUG: > {"date": "2017-08-13T16:34:10.063209", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-navegador-gris_00750624545065", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-navegador-gris_00750624545065", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-navegador-gris_00750624545065\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6sSWl05SRaHHmdt","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-clubmaster-negro_00750624545060> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-aviador-carey_00750624545063> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.016s]
DEBUG: > {"date": "2017-08-13T16:34:10.222731", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-clubmaster-negro_00750624545060", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-clubmaster-negro_00750624545060", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-clubmaster-negro_00750624545060\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6uwWl05SRaHHmdu","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ironman-pro-cronos-unisex-mod-deportivo-humo_00750624542292> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.017s]
DEBUG: > {"date": "2017-08-13T16:34:10.319383", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-aviador-carey_00750624545063", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-aviador-carey_00750624545063", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-levis-aviador-carey_00750624545063\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6wQWl05SRaHHmdv","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.026s]
DEBUG: > {"date": "2017-08-13T16:34:10.395220", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ironman-pro-cronos-unisex-mod-deportivo-humo_00750624542292", "page_type": "walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ironman-pro-cronos-unisex-mod-deportivo-humo_00750624542292", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-de-sol-ironman-pro-cronos-unisex-mod-deportivo-humo_00750624542292\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du6xfWl05SRaHHmdw","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-clubmaster-dorado-49mm-mas-lentes-wayfarer-verde-54mm_b2910800005288> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-clubmaster-dorado-49mm-mas-lentes-justin-polarizado-54mm-marron_b2910800005290> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-clubmaster-dorado-49mm-mas-lentes-erika-velvet-azul-54mm_b2910800005287> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-clubmaster-dorado-49mm-mas-lentes-clubmaster-51mm-verde_b2910800005289> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-clubmaster-dorado-49mm-mas-lente-rosa-aviator-58mm_b2910800005291> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-polarizados-58mm-verde-mas-lentes-wayfarer-50mm-cafe_b2910800005293> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-polarizados-58mm-verde-mas-lentes-liteforce-58-mm-gris_b2910800005294> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-polarizados-58mm-verde-mas-lentes-aviator-polarizados-58mm-naranja_b2910800005292> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-polarizados-58mm-lentes-wayfarer-54mm-verde_b2910800005296> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-polarizados-58mm-lentes-justin-polarizador-4mm-marron_b2910800005295> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (400) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-58-mm-dorado-mas-lentes-wayfarer-50-mm-cafe%0A_b2910800005299> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-58-mm-dorado-mas-lentes-aviator-polarizados-58-mm-naranja_b2910800005298> (referer: https://www.walmart.com.mx/productsitemap.xml)
INFO: Ignoring response <400 https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-58-mm-dorado-mas-lentes-wayfarer-50-mm-cafe%0A_b2910800005299>: HTTP status code is not handled or not allowed
DEBUG: Crawled (400) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-58-mm-dorado-mas-lentes-aviator-polarizados_58-mm-verde%0A_b2910800005297> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-58-mm-dorado-mas-lentes-aviator-58-mm-rosa_b2910800005301> (referer: https://www.walmart.com.mx/productsitemap.xml)
INFO: Ignoring response <400 https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-58-mm-dorado-mas-lentes-aviator-polarizados_58-mm-verde%0A_b2910800005297>: HTTP status code is not handled or not allowed
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lentes-aviator-58-mm-dorado-mas-lentes-aviator-58-mm-dorado_b2910800005300> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lente-negro-aviator-58-mm-mas-lentes-justin-polarizado-54mm-marron_b2910800005281> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lente-negro-aviator-58-mm-mas-lentes-clubmaster-folding-51mm-verde_b2910800005277> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/lente-negro-aviator-58-mm-mas-lente-aviator-58mm-naranja_b2910800005279> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/incluyelentes-erika-velvet-54mm-rojo-mas-lentes-erika-velvet-dorado-54mm_b2910800005285> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/incluye-lentes-erika-velvet-54mm-rojo-mas-lentes-azul-aviator-58mm_b2910800005286> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/2-lentes-ray-ban-wayfarer-folding-naranja-50mm_b2910800005274> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/2-lentes-ray-ban-cafe-aviator_b2910800005269> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre/2-lentes-de-sol-ray-ban-clubmaster-gota-de-51-mm-cafe_b2910800005129> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_alambre-tejido-rosa-y-negro_00750621773321> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.023s]
DEBUG: > {"date": "2017-08-13T16:34:16.917843", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_alambre-tejido-rosa-y-negro_00750621773321", "page_type": "walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_alambre-tejido-rosa-y-negro_00750621773321", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_alambre-tejido-rosa-y-negro_00750621773321\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du8XZWl05SRaHHmdx","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-negra-con-placa-azul_00750621773480> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.022s]
DEBUG: > {"date": "2017-08-13T16:34:17.225119", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-negra-con-placa-azul_00750621773480", "page_type": "walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-negra-con-placa-azul_00750621773480", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-negra-con-placa-azul_00750621773480\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du8cMWl05SRaHHmdy","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-piel-sintetica_00750621773479> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.024s]
DEBUG: > {"date": "2017-08-13T16:34:17.531887", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-piel-sintetica_00750621773479", "page_type": "walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-piel-sintetica_00750621773479", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-piel-sintetica_00750621773479\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du8g_Wl05SRaHHmdz","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-piel-negra_00750621773268> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.014s]
DEBUG: > {"date": "2017-08-13T16:34:17.830459", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-piel-negra_00750621773268", "page_type": "walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-piel-negra_00750621773268", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-piel-negra_00750621773268\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du8lnWl05SRaHHmd0","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-caucho-negro_00750621773280> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.023s]
DEBUG: > {"date": "2017-08-13T16:34:18.149094", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-caucho-negro_00750621773280", "page_type": "walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-caucho-negro_00750621773280", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-caucho-negro_00750621773280\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du8qoWl05SRaHHmd1","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-alambre-tejido-cafe-y-negro_00750621773481> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.027s]
DEBUG: > {"date": "2017-08-13T16:34:18.456090", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-alambre-tejido-cafe-y-negro_00750621773481", "page_type": "walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-alambre-tejido-cafe-y-negro_00750621773481", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-con-alambre-tejido-cafe-y-negro_00750621773481\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du8vbWl05SRaHHmd2","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-azul-con-alambre-tejido_00750621773478> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.020s]
DEBUG: > {"date": "2017-08-13T16:34:18.761195", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-azul-con-alambre-tejido_00750621773478", "page_type": "walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-azul-con-alambre-tejido_00750621773478", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-azul-con-alambre-tejido_00750621773478\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du80MWl05SRaHHmd3","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Closing spider (shutdown)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-alambre-tejido-negro_00750621773320> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.017s]
DEBUG: > {"date": "2017-08-13T16:34:19.165371", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-alambre-tejido-negro_00750621773320", "page_type": "walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-alambre-tejido-negro_00750621773320", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/joyeria/joyeria-para-hombre/pulsera-kpenko_acero-alambre-tejido-negro_00750621773320\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3du86eWl05SRaHHmd4","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/crawl HTTP/1.1" 201 160
INFO: POST http://localhost:9200/sitemap/crawl [status:201 request:0.025s]
DEBUG: > {"date": "2017-08-13T16:34:19.187721", "urls_counter": 44515, "sitemap_date_updated": "", "sub_sitemaps_counts": {"landingsitemap.xml": 749, "productsitemap.xml": 43766}, "sitemap_generated": true}
DEBUG: < {"_index":"sitemap","_type":"crawl","_id":"AV3du862Wl05SRaHHmd5","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 43209,
 'downloader/request_count': 77,
 'downloader/request_method_count/GET': 77,
 'downloader/response_bytes': 12063245,
 'downloader/response_count': 77,
 'downloader/response_status_count/200': 75,
 'downloader/response_status_count/400': 2,
 'finish_reason': 'shutdown',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 34, 19, 187242),
 'httperror/response_ignored_count': 2,
 'httperror/response_ignored_status_count/400': 2,
 'log_count/DEBUG': 287,
 'log_count/INFO': 62,
 'memusage/max': 993275904,
 'memusage/startup': 993275904,
 'request_depth_max': 2,
 'response_received_count': 77,
 'scheduler/dequeued': 77,
 'scheduler/dequeued/memory': 77,
 'scheduler/enqueued': 1006,
 'scheduler/enqueued/memory': 1006,
 'start_time': datetime.datetime(2017, 8, 13, 22, 33, 56, 426282)}
INFO: Spider closed (shutdown)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_dorados-con-circulo-negro_00750621773561> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.036s]
DEBUG: > {"date": "2017-08-13T16:35:41.304115", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_dorados-con-circulo-negro_00750621773561", "page_type": "walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_dorados-con-circulo-negro_00750621773561", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_dorados-con-circulo-negro_00750621773561\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3dvQ-CWl05SRaHHmd6","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_circulares-plateados_00750621772667> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.018s]
DEBUG: > {"date": "2017-08-13T16:35:41.602944", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_circulares-plateados_00750621772667", "page_type": "walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_circulares-plateados_00750621772667", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_circulares-plateados_00750621772667\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3dvRCmWl05SRaHHmd7","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ocean-heart-shine-for-me-mod-acn11-13-99_00750637680390> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.022s]
DEBUG: > {"date": "2017-08-13T16:35:41.914006", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ocean-heart-shine-for-me-mod-acn11-13-99_00750637680390", "page_type": "walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ocean-heart-shine-for-me-mod-acn11-13-99_00750637680390", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/joyeria/bisuteria/aretes-ocean-heart-shine-for-me-mod-acn11-13-99_00750637680390\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3dvRHbWl05SRaHHmd8","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/mochila-guess_camel-mod-pe651430_00019023103082> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.020s]
DEBUG: > {"date": "2017-08-13T16:35:43.341454", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/mochila-guess_camel-mod-pe651430_00019023103082", "page_type": "walmart.com.mx/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/mochila-guess_camel-mod-pe651430_00019023103082", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/mochila-guess_camel-mod-pe651430_00019023103082\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3dvRdwWl05SRaHHmd9","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/bolsa-cross-body-guess_negra-mod-vy664814_00019023103149> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.022s]
DEBUG: > {"date": "2017-08-13T16:35:43.670809", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/bolsa-cross-body-guess_negra-mod-vy664814_00019023103149", "page_type": "walmart.com.mx/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/bolsa-cross-body-guess_negra-mod-vy664814_00019023103149", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/bolsa-cross-body-guess_negra-mod-vy664814_00019023103149\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3dvRi5Wl05SRaHHmd-","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-bebes-y-juguetes> (referer: https://www.walmart.com.mx/landingsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-autos-y-motos> (referer: https://www.walmart.com.mx/landingsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-audio> (referer: https://www.walmart.com.mx/landingsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-accesorios-y-belleza> (referer: https://www.walmart.com.mx/landingsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas> (referer: https://www.walmart.com.mx/landingsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/cristal-swarovski> (referer: https://www.walmart.com.mx/finelinesitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/relojes> (referer: https://www.walmart.com.mx/familysitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/maletas> (referer: https://www.walmart.com.mx/familysitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol> (referer: https://www.walmart.com.mx/familysitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria> (referer: https://www.walmart.com.mx/familysitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras> (referer: https://www.walmart.com.mx/familysitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre> (referer: https://www.walmart.com.mx/finelinesitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre> (referer: https://www.walmart.com.mx/finelinesitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/bisuteria> (referer: https://www.walmart.com.mx/finelinesitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer> (referer: https://www.walmart.com.mx/finelinesitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/bebes> (referer: https://www.walmart.com.mx/departmentsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/autos-y-motos> (referer: https://www.walmart.com.mx/departmentsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/audio> (referer: https://www.walmart.com.mx/departmentsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda> (referer: https://www.walmart.com.mx/departmentsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/inicio> (referer: https://www.walmart.com.mx/departmentsitemap.xml)
INFO: Closing spider (finished)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/crawl HTTP/1.1" 201 160
INFO: POST http://localhost:9200/sitemap/crawl [status:201 request:0.064s]
DEBUG: > {"date": "2017-08-13T16:35:53.045430", "urls_counter": 45389, "sitemap_date_updated": "", "sub_sitemaps_counts": {"landingsitemap.xml": 749, "departmentsitemap.xml": 25, "familysitemap.xml": 156, "productsitemap.xml": 43766, "finelinesitemap.xml": 693}, "sitemap_generated": true}
DEBUG: < {"_index":"sitemap","_type":"crawl","_id":"AV3dvT1YWl05SRaHHmd_","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 24740,
 'downloader/request_count': 31,
 'downloader/request_method_count/GET': 31,
 'downloader/response_bytes': 12106910,
 'downloader/response_count': 31,
 'downloader/response_status_count/200': 31,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 35, 53, 44970),
 'log_count/DEBUG': 57,
 'log_count/INFO': 13,
 'memusage/max': 994291712,
 'memusage/startup': 994291712,
 'request_depth_max': 2,
 'response_received_count': 31,
 'scheduler/dequeued': 31,
 'scheduler/dequeued/memory': 31,
 'scheduler/enqueued': 31,
 'scheduler/enqueued/memory': 31,
 'start_time': datetime.datetime(2017, 8, 13, 22, 35, 34, 57740)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_dorados-con-circulo-negro_00750621773561> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.335s]
DEBUG: > {"date": "2017-08-13T16:36:59.367774", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_dorados-con-circulo-negro_00750621773561", "page_type": "walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_dorados-con-circulo-negro_00750621773561", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_dorados-con-circulo-negro_00750621773561\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3dvkGLWl05SRaHHmeK","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_circulares-plateados_00750621772667> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ocean-heart-shine-for-me-mod-acn11-13-99_00750637680390> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.019s]
DEBUG: > {"date": "2017-08-13T16:36:59.809357", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_circulares-plateados_00750621772667", "page_type": "walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_circulares-plateados_00750621772667", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/joyeria/bisuteria/aretes-ziena_circulares-plateados_00750621772667\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3dvkIiWl05SRaHHmeL","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/mochila-guess_camel-mod-pe651430_00019023103082> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.019s]
DEBUG: > {"date": "2017-08-13T16:36:59.903433", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ocean-heart-shine-for-me-mod-acn11-13-99_00750637680390", "page_type": "walmart.com.mx/accesorios-de-moda/joyeria/bisuteria/aretes-ocean-heart-shine-for-me-mod-acn11-13-99_00750637680390", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/joyeria/bisuteria/aretes-ocean-heart-shine-for-me-mod-acn11-13-99_00750637680390\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3dvkKAWl05SRaHHmeM","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/bolsa-cross-body-guess_negra-mod-vy664814_00019023103149> (referer: https://www.walmart.com.mx/productsitemap.xml)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.018s]
DEBUG: > {"date": "2017-08-13T16:36:59.987988", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/mochila-guess_camel-mod-pe651430_00019023103082", "page_type": "walmart.com.mx/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/mochila-guess_camel-mod-pe651430_00019023103082", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/mochila-guess_camel-mod-pe651430_00019023103082\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3dvkLVWl05SRaHHmeN","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/canonicals HTTP/1.1" 201 165
INFO: POST http://localhost:9200/sitemap/canonicals [status:201 request:0.016s]
DEBUG: > {"date": "2017-08-13T16:37:00.067237", "status_code": 200, "request_url": "https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/bolsa-cross-body-guess_negra-mod-vy664814_00019023103149", "page_type": "walmart.com.mx/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/bolsa-cross-body-guess_negra-mod-vy664814_00019023103149", "canonical": "https://www.walmart.com.mx\"/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer/bolsa-cross-body-guess_negra-mod-vy664814_00019023103149\""}
DEBUG: < {"_index":"sitemap","_type":"canonicals","_id":"AV3dvkMkWl05SRaHHmeO","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-bebes-y-juguetes> (referer: https://www.walmart.com.mx/landingsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-autos-y-motos> (referer: https://www.walmart.com.mx/landingsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-audio> (referer: https://www.walmart.com.mx/landingsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-accesorios-y-belleza> (referer: https://www.walmart.com.mx/landingsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas> (referer: https://www.walmart.com.mx/landingsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol/lentes-de-sol-hombre> (referer: https://www.walmart.com.mx/finelinesitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/relojes> (referer: https://www.walmart.com.mx/familysitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/bebes> (referer: https://www.walmart.com.mx/departmentsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/autos-y-motos> (referer: https://www.walmart.com.mx/departmentsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/audio> (referer: https://www.walmart.com.mx/departmentsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda> (referer: https://www.walmart.com.mx/departmentsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/inicio> (referer: https://www.walmart.com.mx/departmentsitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/maletas> (referer: https://www.walmart.com.mx/familysitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/lentes-de-sol> (referer: https://www.walmart.com.mx/familysitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria> (referer: https://www.walmart.com.mx/familysitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras> (referer: https://www.walmart.com.mx/familysitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/joyeria-para-hombre> (referer: https://www.walmart.com.mx/finelinesitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/cristal-swarovski> (referer: https://www.walmart.com.mx/finelinesitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria/bisuteria> (referer: https://www.walmart.com.mx/finelinesitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras/bolsas-y-carteras-de-mujer> (referer: https://www.walmart.com.mx/finelinesitemap.xml)
INFO: Closing spider (finished)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: http://localhost:9200 "POST /sitemap/crawl HTTP/1.1" 201 160
INFO: POST http://localhost:9200/sitemap/crawl [status:201 request:0.057s]
DEBUG: > {"date": "2017-08-13T16:37:02.654491", "urls_counter": 45389, "sitemap_date_updated": "", "sub_sitemaps_counts": {"landingsitemap.xml": 749, "departmentsitemap.xml": 25, "familysitemap.xml": 156, "productsitemap.xml": 43766, "finelinesitemap.xml": 693}, "sitemap_generated": true}
DEBUG: < {"_index":"sitemap","_type":"crawl","_id":"AV3dvk1BWl05SRaHHmeP","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 11843,
 'downloader/request_count': 31,
 'downloader/request_method_count/GET': 31,
 'downloader/response_bytes': 12105744,
 'downloader/response_count': 31,
 'downloader/response_status_count/200': 31,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 37, 2, 654074),
 'log_count/DEBUG': 57,
 'log_count/INFO': 13,
 'memusage/max': 1003212800,
 'memusage/startup': 1003212800,
 'request_depth_max': 2,
 'response_received_count': 31,
 'scheduler/dequeued': 31,
 'scheduler/dequeued/memory': 31,
 'scheduler/enqueued': 31,
 'scheduler/enqueued/memory': 31,
 'start_time': datetime.datetime(2017, 8, 13, 22, 36, 50, 38086)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_finder.py", line 21, in __init__
    super(UrlFinder, self).__init__(**kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 22, in __init__
    self.urls = read_urls(self.path)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/file_utils/read_urls_csv.py", line 6, in read_urls
    with open(path, 'rb') as csv_file:
IOError: [Errno 2] No such file or directory: ''
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_finder.py", line 21, in __init__
    super(UrlFinder, self).__init__(**kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 22, in __init__
    self.urls = read_urls(self.path)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/file_utils/read_urls_csv.py", line 6, in read_urls
    with open(path, 'rb') as csv_file:
IOError: [Errno 2] No such file or directory: ''
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_finder.py", line 21, in __init__
    super(UrlFinder, self).__init__(**kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 22, in __init__
    self.urls = read_urls(self.path)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/file_utils/read_urls_csv.py", line 6, in read_urls
    with open(path, 'rb') as csv_file:
IOError: [Errno 2] No such file or directory: ''
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_finder.py", line 21, in __init__
    super(UrlFinder, self).__init__(**kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 23, in __init__
    self.urls = read_urls(self.path)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/file_utils/read_urls_csv.py", line 6, in read_urls
    with open(path, 'rb') as csv_file:
IOError: [Errno 2] No such file or directory: 'home/leon/workspace/projects/sitemap_crawler/test.csv'
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_finder.py", line 21, in __init__
    super(UrlFinder, self).__init__(**kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 23, in __init__
    self.urls = read_urls(self.path)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/file_utils/read_urls_csv.py", line 6, in read_urls
    with open(path, 'rb') as csv_file:
IOError: [Errno 2] No such file or directory: 'home/leon/workspace/projects/sitemap_crawler/test.csv'
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_finder.py", line 21, in __init__
    super(UrlFinder, self).__init__(**kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 23, in __init__
    self.urls = read_urls(self.path)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/file_utils/read_urls_csv.py", line 6, in read_urls
    with open(path, 'rb') as csv_file:
IOError: [Errno 2] No such file or directory: 'home/leon/workspace/projects/sitemap_crawler/test.csv'
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_finder.py", line 21, in __init__
    super(UrlFinder, self).__init__(**kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 23, in __init__
    self.urls = read_urls(self.path)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/file_utils/read_urls_csv.py", line 6, in read_urls
    with open(path, 'rb') as csv_file:
IOError: [Errno 2] No such file or directory: 'home/leon/workspace/projects/sitemap_crawler/test.csv'
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_finder.py", line 21, in __init__
    super(UrlFinder, self).__init__(**kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 23, in __init__
    self.urls = read_urls(self.path)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/file_utils/read_urls_csv.py", line 6, in read_urls
    with open(path, 'rb') as csv_file:
IOError: [Errno 2] No such file or directory: 'home/leon/workspace/projects/sitemap_crawler/test.csv'
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_finder.py", line 21, in __init__
    super(UrlFinder, self).__init__(**kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 23, in __init__
    self.urls = read_urls(self.path)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/file_utils/read_urls_csv.py", line 6, in read_urls
    with open(path, 'rb') as csv_file:
IOError: [Errno 2] No such file or directory: 'home/leon/workspace/projects/sitemap_crawler/test.csv'
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_finder.py", line 21, in __init__
    super(UrlFinder, self).__init__(**kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 23, in __init__
    self.urls = read_urls(self.path)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/file_utils/read_urls_csv.py", line 6, in read_urls
    with open(path, 'rb') as csv_file:
IOError: [Errno 2] No such file or directory: ' /home/leon/workspace/projects/sitemap_crawler/test.csv'
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_finder.py", line 21, in __init__
    super(UrlFinder, self).__init__(**kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 23, in __init__
    self.urls = read_urls(self.path)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/file_utils/read_urls_csv.py", line 6, in read_urls
    with open(path, 'rb') as csv_file:
IOError: [Errno 2] No such file or directory: ' /home/leon/workspace/projects/sitemap_crawler/test.csv'
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_finder.py", line 21, in __init__
    super(UrlFinder, self).__init__(**kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 23, in __init__
    self.urls = read_urls(self.path)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/file_utils/read_urls_csv.py", line 6, in read_urls
    with open(path, 'rb') as csv_file:
IOError: [Errno 2] No such file or directory: ' /home/leon/workspace/projects/sitemap_crawler/test.csv'
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
INFO: Closing spider (finished)
ERROR: Error caught on signal handler: <bound method ?.spider_closed of <UrlFinder 'spider_finder' at 0x7f7c0d7c33d0>>
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 150, in maybeDeferred
    result = f(*args, **kw)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/pydispatch/robustapply.py", line 55, in robustApply
    return receiver(*arguments, **named)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_finder.py", line 24, in spider_closed
    result = set(self.urls) - set(self.current_sitemap_urls)
TypeError: unhashable type: 'list'
INFO: Dumping Scrapy stats:
{'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 48, 0, 826612),
 'log_count/DEBUG': 1,
 'log_count/ERROR': 1,
 'log_count/INFO': 7,
 'memusage/max': 1020833792,
 'memusage/startup': 1020833792,
 'start_time': datetime.datetime(2017, 8, 13, 22, 48, 0, 818881)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
INFO: Closing spider (finished)
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
INFO: Closing spider (finished)
DEBUG: urls not found in sitemap: set(['https://www.walmart.com.mx/120-horas-accesorios-y-belleza', 'https://www.walmart.com.mx/120-horas-bebes-y-juguetes', 'https://www.walmart.com.mx/otro_test', 'https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras', 'https://www.walmart.com.mx/autos-y-motos/accesorios-y-herramientas', 'https://www.walmart.com.mx/test', 'https://www.walmart.com.mx/accesorios-de-moda/joyeria'])
DEBUG: total urls: 7
INFO: Dumping Scrapy stats:
{'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 49, 39, 558674),
 'log_count/DEBUG': 3,
 'log_count/INFO': 7,
 'memusage/max': 1020833792,
 'memusage/startup': 1020833792,
 'start_time': datetime.datetime(2017, 8, 13, 22, 49, 39, 552255)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
INFO: Closing spider (finished)
DEBUG: urls not found in sitemap: set(['https://www.walmart.com.mx/120-horas-accesorios-y-belleza', 'https://www.walmart.com.mx/120-horas-bebes-y-juguetes', 'https://www.walmart.com.mx/otro_test', 'https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras', 'https://www.walmart.com.mx/autos-y-motos/accesorios-y-herramientas', 'https://www.walmart.com.mx/test', 'https://www.walmart.com.mx/accesorios-de-moda/joyeria'])
DEBUG: total urls: 7
INFO: Dumping Scrapy stats:
{'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 50, 15, 961865),
 'log_count/DEBUG': 3,
 'log_count/INFO': 7,
 'memusage/max': 1020833792,
 'memusage/startup': 1020833792,
 'start_time': datetime.datetime(2017, 8, 13, 22, 50, 15, 955692)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
INFO: Closing spider (finished)
DEBUG: urls not found in sitemap: set(['https://www.walmart.com.mx/120-horas-accesorios-y-belleza', 'https://www.walmart.com.mx/120-horas-bebes-y-juguetes', 'https://www.walmart.com.mx/otro_test', 'https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras', 'https://www.walmart.com.mx/autos-y-motos/accesorios-y-herramientas', 'https://www.walmart.com.mx/test', 'https://www.walmart.com.mx/accesorios-de-moda/joyeria'])
DEBUG: total urls: 7
INFO: Dumping Scrapy stats:
{'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 50, 23, 317924),
 'log_count/DEBUG': 3,
 'log_count/INFO': 7,
 'memusage/max': 1020833792,
 'memusage/startup': 1020833792,
 'start_time': datetime.datetime(2017, 8, 13, 22, 50, 23, 310297)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
ERROR: Error while obtaining start requests
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/core/engine.py", line 127, in _next_request
    request = next(slot.start_requests)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/sitemap.py", line 32, in start_requests
    yield Request(url, self._parse_sitemap)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/http/request/__init__.py", line 25, in __init__
    self._set_url(url)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/http/request/__init__.py", line 58, in _set_url
    raise ValueError('Missing scheme in request url: %s' % self._url)
ValueError: Missing scheme in request url: h
INFO: Closing spider (finished)
DEBUG: urls not found in sitemap: set(['https://www.walmart.com.mx/120-horas-accesorios-y-belleza', 'https://www.walmart.com.mx/120-horas-bebes-y-juguetes', 'https://www.walmart.com.mx/otro_test', 'https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras', 'https://www.walmart.com.mx/autos-y-motos/accesorios-y-herramientas', 'https://www.walmart.com.mx/test', 'https://www.walmart.com.mx/accesorios-de-moda/joyeria'])
DEBUG: total urls: 7
INFO: Dumping Scrapy stats:
{'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 50, 41, 624241),
 'log_count/DEBUG': 3,
 'log_count/ERROR': 1,
 'log_count/INFO': 7,
 'memusage/max': 1020833792,
 'memusage/startup': 1020833792,
 'start_time': datetime.datetime(2017, 8, 13, 22, 50, 41, 615363)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 51, in _parse_sitemap
    if self.is_sitemap(loc):
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 59, in is_sitemap
    return url.contains('xml')
AttributeError: 'str' object has no attribute 'contains'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 51, in _parse_sitemap
    if self.is_sitemap(loc):
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 59, in is_sitemap
    return url.contains('xml')
AttributeError: 'str' object has no attribute 'contains'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 51, in _parse_sitemap
    if self.is_sitemap(loc):
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 59, in is_sitemap
    return url.contains('xml')
AttributeError: 'str' object has no attribute 'contains'
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
ERROR: Spider error processing <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 51, in _parse_sitemap
    if self.is_sitemap(loc):
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 59, in is_sitemap
    return url.contains('xml')
AttributeError: 'str' object has no attribute 'contains'
ERROR: Spider error processing <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 51, in _parse_sitemap
    if self.is_sitemap(loc):
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/ph/spiders/sitemap/ph_url_finder.py", line 59, in is_sitemap
    return url.contains('xml')
AttributeError: 'str' object has no attribute 'contains'
INFO: Closing spider (finished)
DEBUG: urls not found in sitemap: set(['https://www.walmart.com.mx/120-horas-accesorios-y-belleza', 'https://www.walmart.com.mx/120-horas-bebes-y-juguetes', 'https://www.walmart.com.mx/otro_test', 'https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras', 'https://www.walmart.com.mx/autos-y-motos/accesorios-y-herramientas', 'https://www.walmart.com.mx/test', 'https://www.walmart.com.mx/accesorios-de-moda/joyeria'])
DEBUG: total urls: 7
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 2035,
 'downloader/request_count': 6,
 'downloader/request_method_count/GET': 6,
 'downloader/response_bytes': 12037917,
 'downloader/response_count': 6,
 'downloader/response_status_count/200': 6,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 52, 3, 58577),
 'log_count/DEBUG': 9,
 'log_count/ERROR': 5,
 'log_count/INFO': 7,
 'memusage/max': 1020833792,
 'memusage/startup': 1020833792,
 'request_depth_max': 1,
 'response_received_count': 6,
 'scheduler/dequeued': 6,
 'scheduler/dequeued/memory': 6,
 'scheduler/enqueued': 6,
 'scheduler/enqueued/memory': 6,
 'spider_exceptions/AttributeError': 5,
 'start_time': datetime.datetime(2017, 8, 13, 22, 51, 50, 93533)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
INFO: Received SIGINT, shutting down gracefully. Send again to force 
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/sitemap.xml> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/landingsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/productsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/finelinesitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/familysitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/departmentsitemap.xml> (referer: https://www.walmart.com.mx/sitemap.xml)
INFO: Closing spider (finished)
DEBUG: urls not found in sitemap: set(['https://www.walmart.com.mx/test', 'https://www.walmart.com.mx/otro_test'])
DEBUG: total urls: 2
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 2035,
 'downloader/request_count': 6,
 'downloader/request_method_count/GET': 6,
 'downloader/response_bytes': 12037917,
 'downloader/response_count': 6,
 'downloader/response_status_count/200': 6,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 52, 52, 108399),
 'log_count/DEBUG': 9,
 'log_count/INFO': 7,
 'memusage/max': 1020833792,
 'memusage/startup': 1020833792,
 'request_depth_max': 1,
 'response_received_count': 6,
 'scheduler/dequeued': 6,
 'scheduler/dequeued/memory': 6,
 'scheduler/enqueued': 6,
 'scheduler/enqueued/memory': 6,
 'start_time': datetime.datetime(2017, 8, 13, 22, 52, 44, 555892)}
INFO: Spider closed (finished)
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_load_test.py", line 22, in __init__
    self.coverage = int(kwargs.get('total_requests'))
TypeError: int() argument must be a string or a number, not 'NoneType'
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_load_test.py", line 22, in __init__
    self.coverage = int(kwargs.get('total_requests'))
TypeError: int() argument must be a string or a number, not 'NoneType'
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_load_test.py", line 22, in __init__
    self.coverage = int(kwargs.get('total_requests'))
TypeError: int() argument must be a string or a number, not 'NoneType'
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_load_test.py", line 23, in __init__
    self.total_request = int(kwargs.get('total_requests'))
TypeError: int() argument must be a string or a number, not 'NoneType'
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_load_test.py", line 23, in __init__
    self.total_request = int(kwargs.get('total_requests'))
TypeError: int() argument must be a string or a number, not 'NoneType'
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_load_test.py", line 23, in __init__
    self.total_request = int(kwargs.get('total_requests'))
TypeError: int() argument must be a string or a number, not 'NoneType'
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: Unhandled error in Deferred:
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_load_test.py", line 23, in __init__
    self.total_request = int(kwargs.get('total_requests'))
TypeError: int() argument must be a string or a number, not 'NoneType'
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_load_test.py", line 23, in __init__
    self.total_request = int(kwargs.get('total_requests'))
TypeError: int() argument must be a string or a number, not 'NoneType'
CRITICAL: 
Traceback (most recent call last):
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 1386, in _inlineCallbacks
    result = g.send(result)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 95, in crawl
    six.reraise(*exc_info)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 76, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/crawler.py", line 99, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/leon/workspace/python2.7-ve/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py", line 51, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/leon/workspace/projects/sitemap_crawler/sitemap_crawler/spiders/url_load_test.py", line 23, in __init__
    self.total_request = int(kwargs.get('total_requests'))
TypeError: int() argument must be a string or a number, not 'NoneType'
INFO: Scrapy 1.4.0 started (bot: sitemap_crawler)
INFO: Overridden settings: {'NEWSPIDER_MODULE': 'sitemap_crawler.spiders', 'CONCURRENT_REQUESTS': 1, 'SPIDER_MODULES': ['sitemap_crawler.spiders'], 'CONCURRENT_REQUESTS_PER_IP': 1, 'BOT_NAME': 'sitemap_crawler', 'DOWNLOAD_TIMEOUT': 120, 'CONCURRENT_ITEMS': 1}
INFO: Enabled extensions:
['scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.corestats.CoreStats']
INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
INFO: Enabled item pipelines:
[]
INFO: Spider opened
INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
DEBUG: Telnet console listening on 127.0.0.1:6023
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/bolsas-y-carteras> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/accesorios-de-moda/joyeria> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/autos-y-motos/accesorios-y-herramientas> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/autos-y-motos/accesorios-y-herramientas> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/autos-y-motos/accesorios-y-herramientas> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/autos-y-motos/accesorios-y-herramientas> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-accesorios-y-belleza> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-accesorios-y-belleza> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-accesorios-y-belleza> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-accesorios-y-belleza> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-bebes-y-juguetes> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-bebes-y-juguetes> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-bebes-y-juguetes> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/120-horas-bebes-y-juguetes> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/test> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/test> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/test> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/test> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/otro_test> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/otro_test> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/otro_test> (referer: None)
DEBUG: Crawled (200) <GET https://www.walmart.com.mx/otro_test> (referer: None)
INFO: Closing spider (finished)
DEBUG: Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)
DEBUG: Starting new HTTP connection (1): localhost
DEBUG: http://localhost:9200 "POST /load_test/file_test HTTP/1.1" 201 166
INFO: POST http://localhost:9200/load_test/file_test [status:201 request:0.293s]
DEBUG: > {"start_at": "2017-08-13T16:59:53.269289", "end_at": "2017-08-13T16:59:57.757754"}
DEBUG: < {"_index":"load_test","_type":"file_test","_id":"AV3d00m7Wl05SRaHHmeW","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}
INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 16795,
 'downloader/request_count': 28,
 'downloader/request_method_count/GET': 28,
 'downloader/response_bytes': 73628,
 'downloader/response_count': 28,
 'downloader/response_status_count/200': 28,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2017, 8, 13, 22, 59, 57, 757579),
 'log_count/DEBUG': 34,
 'log_count/INFO': 8,
 'memusage/max': 1021685760,
 'memusage/startup': 1021685760,
 'response_received_count': 28,
 'scheduler/dequeued': 28,
 'scheduler/dequeued/memory': 28,
 'scheduler/enqueued': 28,
 'scheduler/enqueued/memory': 28,
 'start_time': datetime.datetime(2017, 8, 13, 22, 59, 53, 310645)}
INFO: Spider closed (finished)
